(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const b of c.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&l(b)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();const g=document.getElementById("audioPlayer"),w=document.getElementById("audioToggle");w.addEventListener("change",()=>{w.checked?R():g.pause()});const D=["audio/captain-reggae-156203.mp3","audio/colt-fingaz-snakes-of-sahara-176750.mp3","audio/do-not-wake-the-snake-164474.mp3","audio/flying-cobra-120600.mp3","audio/snake-moon-134886.mp3","audio/tropical-forest-house-160667.mp3"];let k=0;function R(){g.src=D[k],g.volume=.3,g.play(),k=(k+1)%D.length}g.addEventListener("ended",R);const O=document.getElementById("gameBoard"),t=O.getContext("2d"),P=document.getElementById("scoreText"),C=document.getElementById("endButton"),N=document.getElementById("toggleButton"),I=document.getElementById("toggleText"),h=document.getElementById("backdrop"),V=document.getElementById("form"),M=document.getElementById("formInput"),m=O.width,S=O.height,n=20,z="rgb(125, 202, 182)",$="green",j="rgb(17, 67, 17)",q="red";let F="red",i=!1,T=!1,u=n,f=0,p,x,y=0,a=[{x:n*4,y:0},{x:n*3,y:0},{x:n*2,y:0},{x:n,y:0},{x:0,y:0}];const L="LEFT",v="UP",E="RIGHT",B="DOWN";let d=E;window.addEventListener("keydown",Q);C.addEventListener("click",()=>h.classList.remove("visibility-hidden"));N.addEventListener("click",K);function G(){const e="0123456789ABCDEF";let r="#";for(let s=0;s<6;s++)r+=e[Math.floor(Math.random()*16)];return r}function K(e){e.currentTarget.blur(),i?(T=!0,I.textContent="Start",_()):(i=!0,T=!1,P.textContent=y,I.textContent="Pause",W(),U(),A())}function A(){i?setTimeout(()=>{H(),U(),X(),Y(),Z(),A()},250):i||(T?_():(N.disabled=!0,C.disabled=!1,ee()))}function H(){t.fillStyle=z,t.fillRect(0,0,m,S)}function W(){function e(s,l){return Math.round((Math.random()*(l-s)-s)/n)*n}let r=!0;for(;r;){r=!1,p=e(0,m-n),x=e(0,m-n);for(let s=0;s<a.length;s++)if(a[s].x===p&&a[s].y===x){r=!0;break}}F=G()}function U(){t.fillStyle=F,t.strokeStyle=q,t.lineWidth=3,t.beginPath(),t.arc(p+n/2,x+n/2,n/2,0,2*Math.PI),t.fill(),t.stroke()}function X(){switch(d){case E:u=n,f=0;break;case L:u=-n,f=0;break;case v:u=0,f=-n;break;case B:u=0,f=n;break}const e={x:a[0].x+u,y:a[0].y+f};a.unshift(e),a[0].x===p&&a[0].y===x?(oe(),y+=1,P.textContent=y,W()):a.pop()}function Y(){t.lineWidth=3,t.strokeStyle=G(),a.forEach((e,r)=>{t.beginPath(),t.arc(e.x+n/2,e.y+n/2,n/2,0,2*Math.PI),r===0?t.fillStyle=j:t.fillStyle=$,t.fill(),t.stroke()})}function Q(e){const r=e.keyCode,s=37,l=38,o=39,c=40;switch(r){case s:d!==E&&(d=L);break;case o:d!==L&&(d=E);break;case l:d!==B&&(d=v);break;case c:d!==v&&(d=B);break}}function Z(){switch(!0){case a[0].x<0:i=!1;break;case a[0].x>=m:i=!1;break;case a[0].y<0:i=!1;break;case a[0].y>=S:i=!1;break}for(let e=1;e<a.length;e++)a[e].x==a[0].x&&a[e].y==a[0].y&&(i=!1)}function ee(){ne(),t.font="60px Playpen Sans",t.fillStyle="#242424",t.textAlign="center",t.fillText("GAME OVER!",m/2,S/2),i=!1}function _(){t.font="60px Playpen Sans",t.fillStyle="#242424",t.textAlign="center",t.fillText("PAUSE!",m/2,S/2),i=!1}function te(){y=0,u=n,f=0,P.textContent=y,I.textContent="Start",a=[{x:n*4,y:0},{x:n*3,y:0},{x:n*2,y:0},{x:n,y:0},{x:0,y:0}],H(),N.disabled=!1,C.disabled=!0,crashSound.pause(),crashSound.currentTime=0}function ne(){document.getElementById("crashSound").play()}function oe(){const e=document.getElementById("eatSound");e.paused&&(e.currentTime=0,e.play())}h.addEventListener("click",e=>{e.target===h&&h.classList.add("visibility-hidden")});V.addEventListener("submit",e=>{e.preventDefault();const r=M.value.trim();let s="Player";r!==""&&(s=r),re(s,y),J(),h.classList.add("visibility-hidden"),te(),M.value=""});function re(e,r){const s=JSON.parse(localStorage.getItem("scores"))||[];s.push({playerName:e,score:r}),localStorage.setItem("scores",JSON.stringify(s))}function J(){const e=document.getElementById("scoreList"),r=JSON.parse(localStorage.getItem("scores"))||[];e.innerHTML="",r.sort((l,o)=>o.score-l.score).forEach(({playerName:l,score:o})=>{e.insertAdjacentHTML("beforeend",`<li><div>${l} <span>${o}</span></div></li>`)})}document.addEventListener("DOMContentLoaded",J);
